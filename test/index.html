<!DOCTYPE html>
<html><head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8">
    <title>Edgecase tests</title>
    
    <script src="http://js.othermedia.com/helium.js" type="text/javascript"></script>
    
    <script type="text/javascript">
        Helium.use('yui', '2.7.0');
        Helium.use('ojay', 'master');
    </script>
    
    <script src="./packages.js" type="text/javascript"></script>
    
    <style type="text/css" media="screen">
        html, body {margin:0; border:none; padding:0; overflow:hidden;}
        .control {position:absolute; bottom:100px; right:100px; display:block; padding:10px; background:#000; color:#fff; font-family:'Times New Roman', serif; font-weight:bold; font-size:18px; font-style:italic; cursor:pointer;}
    </style>
</head><body>
    
    <img id="main" alt="" src="./images/colour-bars.png">
    
    <script type="text/javascript">
        require('Ojay', 'Edgecase', function() {
            var scaleable, ctrl, visible;
            
            scaleable = new Edgecase.Concrete('#main');
            
            if (console && (log = console.log)) {
                scaleable.on('load', function() {
                    log("Image loaded");
                });
                
                scaleable.on('hide', function() {
                    log("Image hidden");
                });
                
                scaleable.on('show', function() {
                    log("Image shown");
                });
            }
            
            scaleable.setup();
            
            ctrl = Ojay(Ojay.HTML.span({className: 'control'}, 'Hide background'));
            scaleable.getHTML().insert(ctrl, 'after');
            
            visible = true;
            
            ctrl.on('click', function() {
                if (visible) {
                    scaleable.hide();
                    ctrl.setContent('Show background');
                } else {
                    scaleable.show();
                    ctrl.setContent('Hide background');
                }
                
                visible = !visible;
            });
        });
    </script>
    
</body></html>
